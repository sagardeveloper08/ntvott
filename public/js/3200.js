"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3200],{3200:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var s=a(1580);const i={data:function(){return{name:"",category_section:"",loading:!1}},methods:{UPLOAD:function(e){var t=this,a=document.querySelector("#image"),i=new FormData;i.append("name",this.name),i.append("kind",this.category_section),i.append("image",a.files[0]),this.loading=!0;var n={headers:{"content-type":"multipart/form-data"}};this.$validator.validateAll().then((function(e){e&&axios.post("/api/admin/create/category",i,n).then((function(e){200===e.status&&(t.loading=!1,s.logPosition("top right"),s.success(e.data.message),t.$router.push({name:"categories-manage"}))}),(function(e){t.error_message_api=e.response.data.message,s.logPosition("top right"),s.error(e.response.data.message),setTimeout((function(){t.loading=!1}),4e3)}))}))},infoShow:function(e,t){var a=document.getElementById(e),s="";if("files"in a)for(var i=0;i<a.files.length;i++){s+="<br><strong>"+(i+1)+". file</strong><br>";var n=a.files[i];"name"in n&&(s+="name: "+n.name+"<br>"),"size"in n&&n.size<1048576&&(s+="size:"+(n.size/1024).toFixed(3)+"KB<br>")}document.getElementById(t).innerHTML=s},readImage:function(e,t){var a=(document.getElementById(e).target||window.event.srcElement).files;if(FileReader&&a&&a.length){var s=new FileReader;s.onload=function(){var e=document.getElementById(t);e.style.display="block",e.src=s.result},s.readAsDataURL(a[0])}}}};const n=(0,a(1900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create-category"},[a("div",{staticClass:"k1_manage_table"},[a("div",{staticClass:"m-2 p-2",attrs:{id:"manage-panel"}},[a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"btn btn-md btn-warning",attrs:{role:"button",to:{name:"categories-manage"}}},[e._v("\n                        Manage\n                    ")])],1)])]),e._v(" "),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group"},[e._m(0),e._v(" "),a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Category name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[e._m(1),e._v(" "),a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|image",expression:"'required|image'"}],staticClass:"inputfile",attrs:{type:"file",id:"image",name:"image"},on:{change:function(t){return e.readImage("image","imageFileImage")}}}),e._v(" "),e._m(2),e._v(" "),a("img",{staticStyle:{display:"none"},attrs:{src:"",id:"imageFileImage",width:"200"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("backdrop"),expression:"errors.has('backdrop')"}],staticClass:" is-danger"},[e._v(e._s(e.errors.first("image")))])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[a("label",{attrs:{for:"category-section"}},[e._v("Category section")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.category_section,expression:"category_section"}],staticClass:"form-control",attrs:{id:"category-section"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.category_section=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"movie"}},[e._v("Movies\n                                ")]),e._v(" "),a("option",{attrs:{value:"series"}},[e._v("Tv Show\n                                ")]),e._v(" "),a("option",{attrs:{value:"live"}},[e._v("Live TV\n                                ")])])])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[e.loading?a("button",{staticClass:"btn btn-md btn-warning",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-circle-o-notch fa-spin"}),e._v("  Loading")]):a("button",{staticClass:"btn btn-md btn-warning",on:{click:function(t){return e.UPLOAD()}}},[e._v("Upload")])])])])])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("label",[e._v("Name")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("label",[e._v("Image")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{id:"backdropLabel",for:"image"}},[e._v("Choose a Image\n                                "),a("br")])}],!1,null,null,null).exports}}]);