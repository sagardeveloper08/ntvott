"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6350],{6350:(a,t,s)=>{s.r(t),s.d(t,{default:()=>i});var e=s(629),o=s(1580);const l={data:function(){return{id:"",series_api:!1,disabled_button:!1,upload_data:{id:null,api:{show:!1,progress:0,success_message:null,error_message:null},upload:{show:!1,progress:0,success_message:null,error_message:null,message:null},subtitle:{progress:0,success_message:null,error_message:null}},apiFormData:new FormData,cloud_type:!1}},computed:(0,e.rn)({countUploadData:function(a){return a.event.data_count},uploadData:function(a){return a.event.upload_data}}),methods:{UPLOAD:function(a){var t=this;this.$store.commit("COUNT_UPLOAD_PROGRESS"),this.apiFormData.append("id",this.id),this.apiFormData.append("cloud_type",this.cloud_type),this.$validator.validateAll().then((function(a){a&&(t.disabled_button=!0,t.upload_data.api.show=!0,t.upload_data.id=t.id,t.$store.commit("SET_PROGRESS_DATA",t.upload_data),t.$store.commit("SET_UPLOAD_PROGRESS",t.uploadData[t.countUploadData]),t.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:t.countUploadData,data:t.uploadData[t.countUploadData]}),axios.post("/api/admin/new/manga/manga-api",t.apiFormData).then((function(a){200===a.status&&(t.$store.commit("UPDATE_PROGRESS_DATA",{key:t.countUploadData,parameter:"success_message",object:"api",value:a.data.message}),t.$store.commit("UPDATE_PROGRESS_DATA",{key:t.countUploadData,parameter:"progress",object:"api",value:100}),t.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:t.countUploadData,data:t.uploadData[t.countUploadData]}),setTimeout((function(){t.$router.push({name:"manga-manage"}),o.logPosition("top right"),o.success("Successful upload")}),1500))}),(function(a){t.disabled_button=!1,t.$store.commit("UPDATE_PROGRESS_DATA",{key:t.countUploadData,parameter:"error_message",object:"api",value:a.response.data.message}),t.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:t.countUploadData,data:t.uploadData[t.countUploadData]})})))}))}}};const i=(0,s(1900).Z)(l,(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"new-series-api"},[s("div",{staticClass:"k1_manage_table"},[s("div",{staticClass:"title p-2"},[a._v("Series API Upload")]),a._v(" "),s("div",{staticClass:"col-12"},[s("div",{staticClass:"form-group"},[a._m(0),a._v(" "),s("div",{staticClass:"col-12 col-md-8 cloud-upload"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-6 image",on:{click:function(t){a.cloud_type="local"}}},[s("div",{staticClass:"local-cloud-logo",class:{active:"local"===a.cloud_type}},[s("img",{attrs:{src:"/themes/default/img/local-cloud.svg",alt:"local-cloud",width:"90px"}})])]),a._v(" "),s("div",{staticClass:"col-12 col-md-6 image",on:{click:function(t){a.cloud_type="aws"}}},[s("div",{staticClass:"aws-cloud-logo",class:{active:"aws"===a.cloud_type}},[s("img",{attrs:{src:"/themes/default/img/aws-cloud.svg",alt:"aws-cloud",width:"120px"}})])])])])]),a._v(" "),a.cloud_type?s("div",[s("div",{staticClass:"form-group"},[a._m(1),a._v(" "),s("div",{staticClass:"col-12 col-sm-8 col-lg-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.id,expression:"id"},{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"form-control",attrs:{name:"id",type:"text",placeholder:"Moviedb id"},domProps:{value:a.id},on:{input:function(t){t.target.composing||(a.id=t.target.value)}}}),a._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("id"),expression:"errors.has('id')"}],staticClass:"is-danger"},[a._v(a._s(a.errors.first("id")))])])]),a._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-6"},[a.disabled_button?a._e():s("button",{staticClass:"btn btn-md btn-warning",on:{click:function(t){return a.UPLOAD()}}},[a._v("\n              Upload\n            ")]),a._v(" "),a.disabled_button?s("button",{staticClass:"btn btn-md btn-warning",attrs:{disabled:""}},[a._v("\n              Loading\n            ")]):a._e()])])]):a._e()])])])}),[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"col-12"},[s("label",[a._v("Choose Cloud ")])])},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"col-12 col-lg-12"},[s("label",[a._v("ID")])])}],!1,null,null,null).exports}}]);