"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[207],{207:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(629),o=a(1580);const i={data:function(){return{id:"",video_link:[],embed:"",presets:[{Name:"HLS - 16000Kilorate - 4K",Resolution:"4k",Container:"ts"},{Name:"HLS - 4000Kilorate - 1080P",Resolution:"1080",Container:"ts"},{Name:"HLS - 2500Kilorate - 720P",Resolution:"720",Container:"ts"},{Name:"HLS - 700Kilorate - 480P",Resolution:"480",Container:"ts"},{Name:"HLS - 400Kilorate - 320P",Resolution:"320",Container:"ts"},{Name:"Generic - 4K",Resolution:"4k",Container:"mp4"},{Name:"Generic - 1080P",Resolution:"1080",Container:"mp4"},{Name:"Generic - 720P",Resolution:"720",Container:"mp4"},{Name:"Generic - 480P",Resolution:"480",Container:"mp4"},{Name:"Generic - 320P",Resolution:"320",Container:"mp4"}],new_presets:[],name:"",overview:"",age:null,season:"",episode:[],year:"",genres:[],runtime:"",rate:"",youtube:"",count:"",cast1:"",cast2:"",cast3:"",cast4:"",listSession:[],listEpiosde:[],upload_type_is:!1,disabled_button:!1,upload_data:{id:null,api:{show:!1,progress:0,success_message:null,error_message:null},upload:{show:!1,progress:0,success_message:null,error_message:null,message:null},subtitle:{progress:0,success_message:null,error_message:null}},uploadFormData:new FormData,apiFormData:new FormData,cloud_type:!1}},computed:(0,s.rn)({data:function(e){return e.series.data},button_loading:function(e){return e.series.button_loading},spinner_loading:function(e){return e.series.spinner_loading},countUploadData:function(e){return e.event.data_count},uploadData:function(e){return e.event.upload_data}}),created:function(){for(var e=1;e<50;e++)this.listSession.push(e);for(e=1;e<2e3;e++)this.listEpiosde.push(e)},mounted:function(){var e=this;Echo.channel("progress").listen("EventTrigger",(function(t){t.progress.progress<2&&(e.$store.commit("UPDATE_PROGRESS_DATA",{key:e.countUploadData,id:t.progress.tmdb_id,parameter:"message",object:"upload",value:t.progress.message}),e.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:e.countUploadData,data:e.uploadData[e.countUploadData]})),e.$store.commit("UPDATE_PROGRESS_DATA",{key:e.countUploadData,id:t.progress.tmdb_id,parameter:"progress",object:"upload",value:t.progress.progress}),e.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:e.countUploadData,data:e.uploadData[e.countUploadData]})}))},methods:{MOVIEDB_API:function(){var e=this;if(this.disabled_button=!0,this.$store.commit("COUNT_UPLOAD_PROGRESS"),"transcoding"==this.upload_type_is){for(var t=document.querySelector("#video"),a=0;a<t.files.length;a++)this.uploadFormData.append("video[]",t.files[a]);this.uploadFormData.append("resolution",JSON.stringify(this.new_presets))}else"externalUrl"==this.upload_type_is?this.video_link.length>0?this.uploadFormData.append("video_link",JSON.stringify(this.video_link)):this.uploadFormData.append("video_link","empty"):this.uploadFormData.append("embed",this.embed);this.apiFormData.append("cloud_type",this.cloud_type);var s=document.querySelector("#backdrop");this.apiFormData.append("name",this.name),this.apiFormData.append("overview",this.overview),this.apiFormData.append("season_number",this.season),this.apiFormData.append("episode_number",JSON.stringify(this.episode));for(var i=0;i<s.files.length;i++)this.apiFormData.append("backdrop[]",s.files[i]);this.apiFormData.append("series_id",this.$route.params.id),this.$validator.validateAll().then((function(t){t&&(e.upload_data.api.show=!0,e.upload_data.id=e.$route.params.id,e.$store.commit("SET_PROGRESS_DATA",e.upload_data),e.$store.commit("SET_UPLOAD_PROGRESS",e.uploadData[e.countUploadData]),e.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:e.countUploadData,data:e.uploadData[e.countUploadData]}),axios.post("/api/admin/new/series/episode/details/custom",e.apiFormData).then((function(t){200===t.status&&(e.$store.commit("UPDATE_PROGRESS_DATA",{key:e.countUploadData,parameter:"success_message",object:"api",value:t.data.message}),e.$store.commit("UPDATE_PROGRESS_DATA",{key:e.countUploadData,parameter:"progress",object:"api",value:100}),e.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:e.countUploadData,data:e.uploadData[e.countUploadData]}),e.MOVIEVIDEO_S3({id:t.data.id,series_name:t.data.series_name}),e.$router.back())}),(function(t){e.disabled_button=!1,422==t.response.status?(o.logPosition("top right"),o.error(t.response.data.errors),o.error(t.response.data.message)):(e.$store.commit("UPDATE_PROGRESS_DATA",{key:e.countUploadData,parameter:"error_message",object:"api",value:t.response.data.message}),e.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:e.countUploadData,data:e.uploadData[e.countUploadData]}))})))}))},MOVIEVIDEO_S3:function(e){var t=this;this.uploadFormData.append("id",JSON.stringify(e.id)),this.uploadFormData.append("tmdb_id",this.$route.params.id),this.uploadFormData.append("series_name",e.series_name),this.uploadFormData.append("series_id",this.$route.params.id),this.uploadFormData.append("cloud_type",this.cloud_type),this.upload_data.upload.show=!0;var a={headers:{"content-type":"multipart/form-data"},onUploadProgress:function(e){t.upload_data.upload.progress=Math.round(100*e.loaded/e.total),t.$store.commit("UPDATE_PROGRESS_DATA",{key:t.countUploadData,parameter:"progress",object:"upload",value:t.upload_data.upload.progress}),t.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:t.countUploadData,data:t.uploadData[t.countUploadData]})}};axios.post("/api/admin/new/series/episode/video",this.uploadFormData,a).then((function(e){200===e.status&&(t.$store.commit("UPDATE_PROGRESS_DATA",{key:t.countUploadData,parameter:"success_message",object:"upload",value:e.data.message}),t.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:t.countUploadData,data:t.uploadData[t.countUploadData]}),o.logPosition("top right"),o.success("Successful upload"))}),(function(e){t.disabled_button=!1,t.$store.commit("UPDATE_PROGRESS_DATA",{key:t.countUploadData,parameter:"error_message",object:"upload",value:e.response.data.message}),t.$store.commit("UPDATE_UPLOAD_PROGRESS_DATA",{key:t.countUploadData,data:t.uploadData[t.countUploadData]})}))},infoShow:function(e,t){var a=document.getElementById(e),s="";if("files"in a)for(var o=0;o<a.files.length;o++){s+="<br><strong>"+(o+1)+". file</strong><br>";var i=a.files[o];"name"in i&&(s+="name: "+i.name+"<br>"),"size"in i&&i.size<1048576&&(s+="size:"+(i.size/1024).toFixed(3)+"KB<br>")}document.getElementById(t).innerHTML=s}}};const r=(0,a(1900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"k1_manage_table"},[a("div",{staticClass:"m-2 p-3",attrs:{id:"manage-panel"}},[a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"btn btn-md btn-warning",attrs:{role:"button",to:{name:"series_manage_id",params:{id:this.$route.params.id}}}},[e._v("Manage\n                    ")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"btn btn-md btn-warning ml-1",attrs:{role:"button",to:{name:"new_series_episode",params:{id:this.$route.params.id}}}},[e._v("Episode API\n                    ")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"btn btn-md btn-warning ml-1",attrs:{role:"button",to:{name:"new_series_episode_custome",params:{id:this.$route.params.id}}}},[e._v("\n                        Episode custom\n                    ")])],1)])]),e._v(" "),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6"},[e._m(0),e._v(" "),a("div",{staticClass:"form-group"},[e._m(1),e._v(" "),a("div",{staticClass:"col-12 cloud-upload"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6 image",on:{click:function(t){e.cloud_type="local"}}},[a("div",{staticClass:"local-cloud-logo",class:{active:"local"===e.cloud_type}},[a("img",{attrs:{src:"/themes/default/img/local-cloud.svg",alt:"local-cloud",width:"90px"}})])]),e._v(" "),a("div",{staticClass:"col-12 col-sm-6 image",on:{click:function(t){e.cloud_type="aws"}}},[a("div",{staticClass:"aws-cloud-logo",class:{active:"aws"===e.cloud_type}},[a("img",{attrs:{src:"/themes/default/img/aws-cloud.svg",alt:"aws-cloud",width:"120px"}})])])])])]),e._v(" "),e.cloud_type?a("div",[a("div",{staticClass:"col-12 col-sm-12 "},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Session"}},[e._v("Session")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.season,expression:"season"}],staticClass:"form-control",attrs:{id:"Session"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.season=t.target.multiple?a:a[0]}}},e._l(e.listSession,(function(t,s){return a("option",{key:s},[e._v(e._s(t))])})),0)])]),e._v(" "),a("div",{staticClass:"col-12 col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Episode"}},[e._v("Episode")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.episode,expression:"episode"}],staticClass:"form-control",attrs:{id:"Episode",multiple:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.episode=t.target.multiple?a:a[0]}}},e._l(e.listEpiosde,(function(t,s){return a("option",{key:s},[e._v(e._s(t))])})),0)])]),e._v(" "),a("div",{staticClass:"form-group"},[e._m(2),e._v(" "),a("div",{staticClass:"col-12 col-sm-12"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"image",expression:"'image'"}],staticClass:"inputfile",attrs:{type:"file",id:"backdrop",name:"backdrop",multiple:""},on:{change:function(t){return e.infoShow("backdrop","backropFileDetails")}}}),e._v(" "),e._m(3),e._v(" "),a("img",{staticStyle:{display:"none"},attrs:{src:"",id:"backdropFileImage",width:"100%"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("backdrop"),expression:"errors.has('backdrop')"}],staticClass:"is-danger"},[e._v(e._s(e.errors.first("backdrop")))])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[a("label",[e._v("Choose way of upload")]),e._v(" "),a("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.upload_type_is,expression:"upload_type_is"}],staticClass:"form-control",attrs:{name:"upload_type",id:"upload_type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.upload_type_is=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"transcoding"}},[e._v("Upload & Transcoding")]),e._v(" "),a("option",{attrs:{value:"externalUrl"}},[e._v(" Upload External Link")])]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("upload_type"),expression:"errors.has('upload_type')"}],staticClass:" is-danger"},[e._v(e._s(e.errors.first("upload_type")))])])]),e._v(" "),a("transition",{attrs:{name:"menu-popover"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"transcoding"==e.upload_type_is,expression:"upload_type_is == 'transcoding' "}],staticClass:"transcoding-section"},["transcoding"==e.upload_type_is?a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12 col-sm-2"},[a("label",[e._v("Episode")])]),e._v(" "),a("div",{staticClass:"col-12"},[a("input",{staticClass:"inputfile",attrs:{type:"file",id:"video",multiple:""},on:{change:function(t){return e.infoShow("video","videoFileDetails")}}}),e._v(" "),a("label",{attrs:{id:"videoLabel",for:"video"}},[e._v("Choose a episode video\n                                            "),a("br"),e._v(" "),a("p",{attrs:{id:"videoFileDetails"}})])])]):e._e(),e._v(" "),"transcoding"==e.upload_type_is?a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[a("label",{attrs:{for:"presets"}},[e._v("Select Presets")]),e._v(" "),a("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.new_presets,expression:"new_presets"}],staticClass:"form-control",staticStyle:{height:"200px"},attrs:{multiple:"",id:"presets"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.new_presets=t.target.multiple?a:a[0]}}},e._l(e.presets,(function(t,s){return a("option",{key:s,domProps:{value:t}},[e._v("\n                                                "+e._s(t.Name)+"\n                                            ")])})),0),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("presets"),expression:"errors.has('presets')"}],staticClass:" is-danger"},[e._v(e._s(e.errors.first("presets")))])])]):e._e()])]),e._v(" "),a("transition",{attrs:{name:"menu-popover"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"externalUrl"==e.upload_type_is,expression:"upload_type_is == 'externalUrl'"}],staticClass:"external-link"},["externalUrl"==e.upload_type_is?a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[a("label",[e._v("Episode\n                                            "),a("small",{staticClass:"form-text text-muted"},[e._v("External Link (360p)")])])]),e._v(" "),a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.video_link[0],expression:"video_link[0]"}],staticClass:"form-control",attrs:{type:"text",placeholder:"320P Episode"},domProps:{value:e.video_link[0]},on:{input:function(t){t.target.composing||e.$set(e.video_link,0,t.target.value)}}})])]):e._e(),e._v(" "),"externalUrl"==e.upload_type_is?a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[a("label",[e._v("Episode\n                                            "),a("small",{staticClass:"form-text text-muted"},[e._v("External Link (480p)")])])]),e._v(" "),a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.video_link[1],expression:"video_link[1]"}],staticClass:"form-control",attrs:{type:"text",placeholder:"480P Episode"},domProps:{value:e.video_link[1]},on:{input:function(t){t.target.composing||e.$set(e.video_link,1,t.target.value)}}})])]):e._e(),e._v(" "),"externalUrl"==e.upload_type_is?a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[a("label",[e._v("Episode\n                                            "),a("small",{staticClass:"form-text text-muted"},[e._v("External Link (720p)")])])]),e._v(" "),a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.video_link[2],expression:"video_link[2]"}],staticClass:"form-control",attrs:{type:"text",placeholder:"720P Episode"},domProps:{value:e.video_link[2]},on:{input:function(t){t.target.composing||e.$set(e.video_link,2,t.target.value)}}})])]):e._e(),e._v(" "),"externalUrl"==e.upload_type_is?a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[a("label",[e._v("Episode\n                                            "),a("small",{staticClass:"form-text text-muted"},[e._v("External Link (1080p)")])])]),e._v(" "),a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.video_link[3],expression:"video_link[3]"}],staticClass:"form-control",attrs:{type:"text",placeholder:"1080P Episode"},domProps:{value:e.video_link[3]},on:{input:function(t){t.target.composing||e.$set(e.video_link,3,t.target.value)}}})])]):e._e(),e._v(" "),"externalUrl"==e.upload_type_is?a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[a("label",[e._v("Episode\n                                            "),a("small",{staticClass:"form-text text-muted"},[e._v("External Link (4k)")])])]),e._v(" "),a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.video_link[4],expression:"video_link[4]"}],staticClass:"form-control",attrs:{type:"text",placeholder:"4k Episode"},domProps:{value:e.video_link[4]},on:{input:function(t){t.target.composing||e.$set(e.video_link,4,t.target.value)}}})])]):e._e()])]),e._v(" "),a("div",{staticClass:"col-12 mt-2"},[a("div",{staticClass:"form-group"},[e.disabled_button?e._e():a("button",{staticClass:"btn btn-md btn-warning",on:{click:function(t){return e.MOVIEDB_API()}}},[e._v("Upload\n                                ")]),e._v(" "),e.disabled_button?a("button",{staticClass:"btn btn-md btn-warning",attrs:{disabled:""}},[e._v("Loading\n                                ")]):e._e()])])],1):e._e()])])])])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[a("strong",[e._v("Important ! ")]),e._v(" "),a("br"),e._v(" "),a("ol",[a("li",[e._v("\n                                        Re-name the video and image to same episode number and you can upload multiple episode in same time. "),a("br")]),e._v(" "),a("li",[e._v(" You can upload one episode through External Link Re-stream.\n                                    ")])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("label",[e._v("Choose Cloud ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12 col-sm-4"},[a("label",[e._v("Backdrop")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{id:"backdropLabel",for:"backdrop"}},[e._v("Choose a backdrop\n                                    "),a("br"),e._v(" "),a("p",{attrs:{id:"backropFileDetails"}})])}],!1,null,null,null).exports}}]);